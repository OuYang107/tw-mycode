{"version":3,"sources":["webpack:///./src/views/dengdatain/newtable.vue?c6ee","webpack:///src/views/dengdatain/newtable.vue","webpack:///./src/views/dengdatain/newtable.vue?47e1","webpack:///./src/views/dengdatain/newtable.vue","webpack:///./src/views/dengdatain/newtable.vue?5104"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","staticStyle","nativeOn","$event","marquee","model","value","searchData","callback","$$v","$set","expression","_l","item","key","label","rangeDate","on","query","tableData","rowClass","cellStyle","pageNo","pageSize","total","handleSizeChange","handleCurrentChange","dialogVisible","handleDialogClose","getDownload","ref","uploadFiles","setChange","fileList","slot","index","_s","clearFile","confirm","staticRenderFns","data","advicename","deptName","endTime","startTime","optiontype","files","type","token","content","discCodes","restaurants","mounted","created","methods","StartTime","d","getFullYear","EndTime","console","log","res","err","arr","querySearchAsyncone","map","results","queryString","filter","createStateFilterone","clearTimeout","timeout","setTimeout","cb","handleSubmitone","resetting","$refs","clearFiles","window","open","length","forEach","formData","append","raw","list","push","code","confirmButtomText","cancelButtonText","obj","unshift","msg","$message","warning","noresetting","val","component"],"mappings":"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","file":"static/js/chunk-a9adfc6a.ec36f292.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"content\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content\"},[_vm._v(\" 部门: \"),_c('el-select',{staticStyle:{\"width\":\"140px\"},attrs:{\"size\":\"mini\",\"placeholder\":\"请选择\"},nativeOn:{\"click\":function($event){return _vm.marquee()}},model:{value:(_vm.searchData.deptName),callback:function ($$v) {_vm.$set(_vm.searchData, \"deptName\", $$v)},expression:\"searchData.deptName\"}},_vm._l((_vm.optiontype),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)]),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content\"},[_vm._v(\" 策略名称: \"),_c('el-input',{staticStyle:{\"width\":\"140px\"},attrs:{\"placeholder\":\"请输入内容\",\"size\":\"mini\"},model:{value:(_vm.searchData.advicename),callback:function ($$v) {_vm.$set(_vm.searchData, \"advicename\", $$v)},expression:\"searchData.advicename\"}})],1)]),_c('el-col',{attrs:{\"span\":7}},[_c('div',{staticClass:\"block grid-content\"},[_c('span',{staticStyle:{\"font-size\":\"12px width: 140px\"}},[_vm._v(\"导入日期:\")]),_c('el-date-picker',{attrs:{\"size\":\"mini\",\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.rangeDate),callback:function ($$v) {_vm.rangeDate=$$v},expression:\"rangeDate\"}})],1)]),_c('el-col',{attrs:{\"span\":4}}),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"grid-content a\"},[_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.query}},[_vm._v(\"查询\")])],1),_c('el-col',{attrs:{\"span\":3}})],1)])],1)],1),_c('div',{staticClass:\"table\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"align\":\"center\",\"border\":\"\",\"height\":\"410\",\"tooltip-effect\":\"light\",\"header-cell-style\":_vm.rowClass,\"cell-style\":_vm.cellStyle}},[_c('el-table-column',{attrs:{\"prop\":\"statisDate\",\"label\":\"执行日期\",\"width\":\"105\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"adviceCode\",\"label\":\"策略编码\",\"width\":\"105\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"adviceName\",\"label\":\"策略名称\",\"width\":\"105\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"deptName\",\"label\":\"部门\",\"width\":\"105\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"chnlType\",\"label\":\"渠道\",\"width\":\"105\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"busiType\",\"label\":\"业务类型\",\"width\":\"105\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"adviceType\",\"label\":\"策略类型\",\"width\":\"105\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"startTime\",\"label\":\"执行开始时间\",\"width\":\"105\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"endTime\",\"label\":\"执行结束时间\",\"width\":\"105\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"unsatisCustNum\",\"label\":\"不满客户数\",\"width\":\"105\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"contctCustNum\",\"label\":\"接触客户数\",\"width\":\"105\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"contctRatio\",\"label\":\"接触率\",\"width\":\"105\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"dealCustNum\",\"label\":\"办理客户数\",\"width\":\"105\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"dealRatio\",\"label\":\"办理率\",\"width\":\"105\",\"align\":\"center\"}})],1),_c('el-pagination',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"center\"},attrs:{\"current-page\":_vm.searchData.pageNo,\"page-size\":_vm.searchData.pageSize,\"total\":_vm.searchData.total,\"page-sizes\":[1, 5, 10, 30],\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.searchData, \"pageNo\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.searchData, \"pageNo\", $event)},\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)]),_c('div',{staticClass:\"dialog\"},[_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"before-close\":_vm.handleDialogClose,\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":_vm.getDownload}},[_vm._v(\"模板下载\")])],1),_c('el-upload',{ref:\"upfiles\",staticClass:\"upload-demo\",attrs:{\"action\":\"#\",\"http-request\":_vm.uploadFiles,\"on-change\":_vm.setChange,\"multiple\":\"\",\"limit\":10000,\"file-list\":_vm.fileList}},[_c('el-button',{staticStyle:{\"text-align\":\"left\"},attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\" 只能上传Excel文件，且不超过500kb \")])],1),_c('div',{staticClass:\"listtpey\"},_vm._l((_vm.content),function(item,index){return _c('p',{key:index},[_vm._v(_vm._s(item))])}),0),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.clearFile()}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确 定\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"box\">\r\n    <div class=\"page\">\r\n      <div class=\"content\">\r\n        <el-row>\r\n          <el-col :span=\"4\">\r\n            <div class=\"grid-content\">\r\n              部门:\r\n              <!-- <el-autocomplete style=\"width: 140px\"\r\n                               v-model=\"searchData.deptName\"\r\n                               :fetch-suggestions=\"querySearchAsyncone\"\r\n                               placeholder=\"请输入内容\"\r\n                               size=\"mini\"\r\n                               :trigger-on-focus=\"false\"\r\n                               @select=\"handleSubmitone\"></el-autocomplete> -->\r\n              <el-select size=\"mini\"\r\n                         style=\"width: 140px\"\r\n                         v-model=\"searchData.deptName\"\r\n                         placeholder=\"请选择\"\r\n                         @click.native=\"marquee()\">\r\n                <el-option v-for=\"item in optiontype\"\r\n                           :key=\"item.value\"\r\n                           :label=\"item.label\"\r\n                           :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n              <!-- <el-input style=\"width: 140px\"\r\n                        v-model=\"searchData.discCode\"\r\n                        placeholder=\"请输入内容\"\r\n                        size=\"mini\"></el-input> -->\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"4\">\r\n            <div class=\"grid-content\">\r\n              策略名称:\r\n              <el-input style=\"width: 140px\"\r\n                        v-model=\"searchData.advicename\"\r\n                        placeholder=\"请输入内容\"\r\n                        size=\"mini\"></el-input>\r\n              <!-- <el-autocomplete style=\"width: 140px\"\r\n                               v-model=\"searchData.advicename\"\r\n                               :fetch-suggestions=\"querySearchAsyncone\"\r\n                               placeholder=\"请输入内容\"\r\n                               size=\"mini\"\r\n                               :trigger-on-focus=\"false\"\r\n                               @select=\"handleSubmitone\"></el-autocomplete> -->\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <div class=\"block grid-content\">\r\n              <span style=\"font-size: 12px width: 140px\">导入日期:</span>\r\n              <el-date-picker v-model=\"rangeDate\"\r\n                              size=\"mini\"\r\n                              type=\"daterange\"\r\n                              range-separator=\"至\"\r\n                              start-placeholder=\"开始日期\"\r\n                              end-placeholder=\"结束日期\">\r\n              </el-date-picker>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"4\">\r\n            <!-- <div class=\"grid-content\">\r\n              导入人员:\r\n              <el-autocomplete style=\"width: 140px\"\r\n                               v-model=\"searchData.settleId\"\r\n                               :fetch-suggestions=\"querySearchAsynctow\"\r\n                               placeholder=\"请输入内容\"\r\n                               size=\"mini\"\r\n                               :trigger-on-focus=\"false\"\r\n                               @select=\"handleSubmittow\"></el-autocomplete>\r\n            </div> -->\r\n          </el-col>\r\n          <el-col :span=\"3\">\r\n            <div class=\"grid-content a\">\r\n              <el-row>\r\n                <el-button type=\"primary\"\r\n                           size=\"mini\"\r\n                           @click=\"query\">查询</el-button>\r\n                <!-- <el-button size=\"mini\"\r\n                           @click=\"dialogVisible = true\">导入</el-button> -->\r\n              </el-row>\r\n              <el-col :span=\"3\">\r\n              </el-col>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n      <div class=\"table\">\r\n        <el-table :data=\"tableData\"\r\n                  align=\"center\"\r\n                  style=\"width: 100%\"\r\n                  border\r\n                  height=\"410\"\r\n                  tooltip-effect=\"light\"\r\n                  :header-cell-style=\"rowClass\"\r\n                  :cell-style=\"cellStyle\">\r\n          <el-table-column prop=\"statisDate\"\r\n                           label=\"执行日期\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"adviceCode\"\r\n                           label=\"策略编码\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"adviceName\"\r\n                           label=\"策略名称\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"deptName\"\r\n                           label=\"部门\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"chnlType\"\r\n                           label=\"渠道\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"busiType\"\r\n                           label=\"业务类型\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"adviceType\"\r\n                           label=\"策略类型\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"startTime\"\r\n                           label=\"执行开始时间\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"endTime\"\r\n                           label=\"执行结束时间\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"unsatisCustNum\"\r\n                           label=\"不满客户数\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"contctCustNum\"\r\n                           label=\"接触客户数\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"contctRatio\"\r\n                           label=\"接触率\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"dealCustNum\"\r\n                           label=\"办理客户数\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"dealRatio\"\r\n                           label=\"办理率\"\r\n                           width=\"105\"\r\n                           align=\"center\">\r\n          </el-table-column>\r\n\r\n        </el-table>\r\n        <el-pagination :current-page.sync=\"searchData.pageNo\"\r\n                       :page-size=\"searchData.pageSize\"\r\n                       :total=\"searchData.total\"\r\n                       style=\"margin-top: 20px; text-align: center\"\r\n                       :page-sizes=\"[1, 5, 10, 30]\"\r\n                       layout=\"total, sizes, prev, pager, next, jumper\"\r\n                       @size-change=\"handleSizeChange\"\r\n                       @current-change=\"handleCurrentChange\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"dialog\">\r\n      <!--    //==================== -->\r\n      <!-- <el-row> -->\r\n\r\n      <el-dialog :visible.sync=\"dialogVisible\"\r\n                 :before-close=\"handleDialogClose\"\r\n                 width=\"70%\">\r\n\r\n        <div style=\"text-align: right\">\r\n          <el-button @click=\"getDownload\"\r\n                     type=\"success\"\r\n                     size=\"mini\">模板下载</el-button>\r\n        </div>\r\n        <el-upload class=\"upload-demo\"\r\n                   action=\"#\"\r\n                   :http-request=\"uploadFiles\"\r\n                   :on-change=\"setChange\"\r\n                   multiple\r\n                   ref=\"upfiles\"\r\n                   :limit=\"10000\"\r\n                   :file-list=\"fileList\">\r\n          <el-button size=\"small\"\r\n                     style=\"text-align: left\"\r\n                     type=\"primary\">点击上传</el-button>\r\n          <div slot=\"tip\"\r\n               class=\"el-upload__tip\"> 只能上传Excel文件，且不超过500kb\r\n            <!-- <span slot=\"tip\"\r\n                  style=\"color: \t#FF0000\">注：每次导入表格都会进行覆盖。</span> -->\r\n          </div>\r\n        </el-upload>\r\n        <div class=\"listtpey\">\r\n          <p v-for=\"(item,index) in content\"\r\n             :key=\"index\">{{item }}</p>\r\n        </div>\r\n        <span slot=\"footer\"\r\n              class=\"dialog-footer\">\r\n          <el-button @click=\"clearFile()\"\r\n                     size=\"mini\">取 消</el-button>\r\n          <el-button type=\"primary\"\r\n                     @click=\"confirm\"\r\n                     size=\"mini\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport baseUrl from \"@/api/baseUrl\";\r\nimport requestUrl from \"@/api/url\";\r\nimport apiSend from \"@/api/httpRequest.js\";\r\nexport default {\r\n  data () {\r\n    return {\r\n      rangeDate: [],\r\n      dialogVisible: false,\r\n      tableData: [],\r\n      searchData: {\r\n        // statisYear: 2021,\r\n        pageNo: 1,    //一页条数\r\n        pageSize: 10,      //页数\r\n        total: 10,\r\n        advicename: \"\",\r\n        deptName: \"\",\r\n        endTime: \"\",\r\n        startTime: \"\",\r\n        // discCode: \"\",\r\n        // discName: \"\",\r\n        // importEndTime: \"\",\r\n        // importPerson: \"\",\r\n        // importStartTime: \"\",\r\n      },\r\n      // input: '',\r\n      // search: '',\r\n      // arr: '',\r\n      // optionreason: [],\r\n      // cityCode: '',\r\n      // isfugai: '否', //期数\r\n      // timeoption: [\r\n      //   { value: 1, label: \"部门1\" },\r\n      //   { value: 0, label: \"部门2\" }\r\n      // ],\r\n      optiontype: [\r\n        // { value: 1, label: \"部门1\" },\r\n        // { value: 0, label: \"部门2\" }\r\n      ],\r\n      // cntyArrOptins: [],\r\n      //存放区县\r\n      // options1: [],\r\n      files: {\r\n        type: 0,\r\n        files: {},\r\n        // statisYear: 2021,\r\n        token: \"12\",\r\n      },\r\n      fileList: [],\r\n      content: '',\r\n      discCodes: [],\r\n      restaurants: [],\r\n\r\n    };\r\n  },\r\n  mounted () {\r\n    this.query()\r\n    // this.restaurants = this.tableData\r\n    // console.log(this.tableData)\r\n  },\r\n  created () {\r\n    // console.log(this.tableData)\r\n  },\r\n  methods: {\r\n    //查询按钮\r\n    query () {\r\n      if (this.rangeDate[0]) {\r\n        const d = new Date(this.rangeDate[0])\r\n        this.searchData.StartTime = d.getFullYear() + '-' + ((d.getMonth() + 1)) + '-' + (d.getDate())\r\n      }\r\n      if (this.rangeDate[1]) {\r\n        const d = new Date(this.rangeDate[1])\r\n        this.searchData.EndTime = d.getFullYear() + '-' + ((d.getMonth() + 1)) + '-' + (d.getDate())\r\n      }\r\n      apiSend.findTaDtUsUnsatisEvalMid05DInfo({ data: this.searchData }).then(res => {\r\n        console.log(res)\r\n        // this.searchData.total = res.data.data.current\r\n        this.searchData.total = res.data.data.total\r\n        this.tableData = res.data.data.records\r\n        // this.restaurants = this.tableData\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    marquee () {\r\n      apiSend.findTaDtUsUnsatisEvalMid05DByDeptName({}).then(res => {\r\n        console.log(res)\r\n        this.optiontype = res.data.data.data.map(item => {\r\n          let arr = {}\r\n          // console.log(item.SATISTYPEID2, item.SATISTYPE2)\r\n          arr.label = item.deptName\r\n          arr.value = item.deptName\r\n          return arr\r\n        })\r\n\r\n\r\n\r\n        // res.data.data.forEach(item => {\r\n        //   console.log(item.deptName)\r\n        //   this.optiontype.value = item.deptName\r\n        //   this.optiontype.label = item.deptName\r\n        // })\r\n        // this.searchData.total = res.data.data.current\r\n        // this.searchData.total = res.data.data.total\r\n        // this.tableData = res.data.data.records\r\n        // this.restaurants = this.tableData\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    // handleChangetype () {\r\n    //   apiSend.findTaDtUsUnsatisEvalMid05DByDeptName({}).then(res => {\r\n    //     console.log(res)\r\n    //     // this.searchData.total = res.data.data.current\r\n    //     // this.searchData.total = res.data.data.total\r\n    //     // this.tableData = res.data.data.records\r\n    //     // this.restaurants = this.tableData\r\n    //   }).catch(err => {\r\n    //     console.log(err)\r\n    //   })\r\n    // },\r\n    querySearchAsyncone (queryString, cb) {\r\n      // console.log(this.restaurants)\r\n      var restaurants = this.restaurants.map(item => {\r\n        return { value: item.baseInfoName }\r\n      })\r\n      console.log(restaurants)\r\n      var results = queryString ? restaurants.filter(this.createStateFilterone(queryString)) : restaurants;\r\n\r\n      clearTimeout(this.timeout);\r\n      this.timeout = setTimeout(() => {\r\n        console.log(results)\r\n        cb(results);\r\n        console.log(cb(results))\r\n      }, 1000 * Math.random());\r\n    },\r\n    createStateFilterone (queryString) {\r\n      console.log(queryString)\r\n      // state.value = state.cellCode\r\n      return (state) => {\r\n        // console.log(state.value)\r\n        return (state.value.toLowerCase().indexOf(queryString.toLowerCase()) > -1);\r\n      };\r\n    },\r\n    handleSubmitone (item) {\r\n      console.log(item);\r\n    },\r\n\r\n    resetting () { // 导入按钮\r\n      this.dialogVisible = true\r\n    },\r\n    setChange (_file, fileList) {\r\n      // console.log(fileList)\r\n      this.fileList = fileList;\r\n    },\r\n    uploadFiles (e) {     //导入文件\r\n      // console.log(e.file)\r\n      // this.files.files.append(e.file)\r\n    },\r\n    handleDialogClose () {        // X 按钮\r\n      this.dialogVisible = false;\r\n      this.$refs[\"upfiles\"].clearFiles();\r\n    },\r\n    //模板下载按钮\r\n    getDownload () {\r\n      const base =\r\n        process.env.NODE_ENV == \"development\"\r\n          ? baseUrl.development\r\n          : baseUrl.production;\r\n      window.open(\r\n        base + \"/dist/photoSatis.xlsx\"\r\n      );\r\n    },\r\n    confirm () {  //确认按钮      \r\n      // this.$refs[\"upfiles\"].clearFiles();\r\n      // this.dialogVisible = false;\r\n      if (this.fileList.length == 0) {\r\n        this.$message.warning(\"请上传文件！\");\r\n        return;\r\n      }\r\n      let formData = new FormData();\r\n      // console.log(this.fileList)\r\n      let list = []\r\n      this.fileList.forEach((item) => {\r\n        formData.append('file', item.raw);\r\n        list.push(item.raw)\r\n      })\r\n      // console.log()\r\n      formData.append('type', this.files.type);\r\n\r\n\r\n      // -------------------\r\n      let obj = []\r\n      apiSend.checkExcels({ data: formData }).then(res => {\r\n        let arr = res.data.data\r\n        console.log(res.data.data)\r\n        if (arr.code == 1) {            //item.msg +  item.fileName + \r\n          // this.$message.warning('导入失败,第2行数据已存在，是否进行覆盖导入!');\r\n          this.$confirm(arr.error + \", 是否确认导入?\", \"提示\", {\r\n            confirmButtomText: \"确认\",\r\n            cancelButtonText: \"取消\",\r\n            type: \"warning\",\r\n          })\r\n            .then((res) => {\r\n              if (confirm) {\r\n                // console.log(999999999999)\r\n                //再调接口\r\n                this.files.type = 1;\r\n                // formData.append('type', this.files.type);\r\n                formData.set(\"type\", this.files.type);\r\n                apiSend.excelFiles({ data: formData }).then((res) => {\r\n                  // console.log(res.data.data.msg)\r\n                  this.files.type = 0;\r\n                  obj.push(res.data.data.msg)\r\n                  //调完导入接口后查询\r\n                  // this.$message.warning(res.data.data.msg + \"!\");\r\n                })\r\n                  .catch((err) => {\r\n                    console.log(err);\r\n                  });\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n            });\r\n        }\r\n        if (arr.code == 0) {\r\n          obj.unshift(arr.msg)\r\n        }\r\n        // console.log(obj)\r\n        this.content = obj\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    clearFile () {       // 取消按钮\r\n      // clearFiles\r\n      this.content = \"\";\r\n      this.dialogVisible = false;\r\n      this.$refs[\"upfiles\"].clearFiles();\r\n    },\r\n    noresetting () {      //导出按钮\r\n    },\r\n    rowClass () {\r\n    },\r\n    cellStyle () {\r\n    },\r\n    handleCurrentChange (val) { // 条数\r\n      this.searchData.pageNo = val;\r\n      this.query()\r\n    },\r\n    handleSizeChange (val) {   // 一页多少条 \r\n      this.searchData.pageSize = val;\r\n      this.query()\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.listtpey {\r\n  overflow-y: scroll;\r\n  height: 150px;\r\n  width: 700px;\r\n  border: 1px solid black;\r\n}\r\n.selects /deep/ .el-input--suffix {\r\n  height: 28px;\r\n}\r\n.selects /deep/ .el-cascader .el-input .el-input__inner {\r\n  height: 28px !important;\r\n}\r\n.selects /deep/ .el-input--suffix {\r\n  height: 28px !important;\r\n}\r\n\r\n.selects /deep/ .el-input__inner {\r\n  height: 28px !important;\r\n  // display: l;\r\n}\r\n.content /deep/ .selects .el-cascader .el-input .el-input__inner {\r\n  height: 28px !important;\r\n}\r\n.content /deep/ .el-input--suffix .el-input__inner {\r\n  padding-right: 15px;\r\n}\r\n/deep/.miss .selects .el-input__inner {\r\n  height: 28px;\r\n  height: 28px !important;\r\n}\r\n.box {\r\n  // background: white;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 24px;\r\n}\r\n\r\n.page {\r\n  background: white;\r\n}\r\n// .box /deep/ .el-pagination {\r\n//   margin-top: 0px !important;\r\n//   background: white;\r\n// }\r\n.selects {\r\n  width: 100%;\r\n  line-height: 28px;\r\n  // border: 1px solid red;\r\n  height: 28px !important;\r\n}\r\n.bg-purple-dark {\r\n  box-sizing: border-box;\r\n  // border: 1px solid red;\r\n  width: 100vw;\r\n  height: 100px;\r\n}\r\n.content {\r\n  background: white;\r\n  box-sizing: border-box;\r\n  // margin: 10px;\r\n  padding: 0 10px;\r\n}\r\n.el-col {\r\n  border-radius: 4px;\r\n}\r\n.bg-purple-dark {\r\n  background: #99a9bf;\r\n}\r\n.grid-content {\r\n  // border: 1px solid green;\r\n  margin: 5px 3px;\r\n  // padding: 0 5px;\r\n  min-height: 36px;\r\n  font-size: 12px;\r\n  // font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.row-bg {\r\n  background-color: #f9fafc;\r\n}\r\n/deep/ .el-table {\r\n  // background: white;\r\n  margin-top: 10px;\r\n  width: 100%;\r\n  table {\r\n    width: 100% !important;\r\n  }\r\n  .warning-row {\r\n    background-color: rgb(242, 245, 252);\r\n  }\r\n  thead {\r\n    th {\r\n      background-color: rgb(242, 245, 252);\r\n      color: #999;\r\n      font-weight: 500;\r\n      padding: 5px 0;\r\n      font-size: 12px;\r\n      // letter-spacing: 1px;\r\n    }\r\n  }\r\n  tbody {\r\n    td {\r\n      font-size: 12px;\r\n      padding: 5px 0;\r\n    }\r\n    tr:hover > td {\r\n      background-color: rgb(217, 236, 255) !important;\r\n    }\r\n  }\r\n}\r\n\r\n.page-title {\r\n  padding: 10px 10px 10px 0;\r\n  margin-bottom: 10px;\r\n  color: #409eff;\r\n  font-size: 18px;\r\n  color: #409eff;\r\n  letter-spacing: 1px;\r\n  font-family: \"Microsoft YaHei\";\r\n  position: relative;\r\n}\r\n.page-title::after {\r\n  content: \"\";\r\n  width: 100%;\r\n  height: 1px;\r\n  background-color: #ddd;\r\n  // padding:0;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  // padding-bottom: 10px;\r\n}\r\n.block {\r\n  // margin-top: 10px;\r\n}\r\n.block /deep/ .el-date-editor--daterange.el-input,\r\n.el-date-editor--daterange.el-input__inner,\r\n.el-date-editor--timerange.el-input,\r\n.el-date-editor--timerange.el-input__inner {\r\n  width: 280px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./newtable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./newtable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./newtable.vue?vue&type=template&id=3f7c9c16&scoped=true&\"\nimport script from \"./newtable.vue?vue&type=script&lang=js&\"\nexport * from \"./newtable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./newtable.vue?vue&type=style&index=0&id=3f7c9c16&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f7c9c16\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./newtable.vue?vue&type=style&index=0&id=3f7c9c16&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./newtable.vue?vue&type=style&index=0&id=3f7c9c16&lang=less&scoped=true&\""],"sourceRoot":""}