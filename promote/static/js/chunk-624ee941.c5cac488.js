(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-624ee941"],{9791:function(t,e,i){"use strict";var a=i("dd96"),n=i.n(a);n.a},c057:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("div",{staticClass:"page"},[i("div",{staticClass:"content"},[i("el-row",[i("el-col",{attrs:{span:4}},[i("div",{staticClass:"grid-content"},[t._v(" 客户类型： "),i("el-select",{staticStyle:{width:"130px"},attrs:{size:"mini",clearable:"",placeholder:"请选择"},nativeOn:{click:function(e){return t.marquee()}},model:{value:t.searchData.disctpye,callback:function(e){t.$set(t.searchData,"disctpye",e)},expression:"searchData.disctpye"}},t._l(t.optiontype,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),i("el-col",{attrs:{span:4}},[i("div",{staticClass:"grid-content"},[t._v(" 匹配规模： "),i("el-autocomplete",{staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"请输入内容",size:"mini","trigger-on-focus":!1},model:{value:t.searchData.discguimo,callback:function(e){t.$set(t.searchData,"discguimo",e)},expression:"searchData.discguimo"}})],1)]),i("el-col",{attrs:{span:7}}),i("el-col",{attrs:{span:4}}),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"grid-content a"},[i("el-row",[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.query}},[t._v("分配字段")]),i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("导入")])],1),i("el-col",{attrs:{span:3}},[i("el-button",{staticStyle:{"margin-left":"600px"},attrs:{size:"mini"},on:{click:t.noresetting}},[t._v("导出")])],1)],1)])],1)],1),i("div",{staticClass:"table"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,align:"center",border:"",height:"390","tooltip-effect":"light","header-cell-style":t.rowClass,"cell-style":t.cellStyle},on:{"cell-dblclick":t.tableDbEdit,"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{prop:"a",label:"地市",width:"105",align:"center"}}),i("el-table-column",{attrs:{prop:"b",label:"区县",width:"105",align:"center"}}),i("el-table-column",{attrs:{prop:"c",label:"客户数",width:"105",align:"center"}})],1),i("div",{staticStyle:{"text-align":"right","margin-right":"10px"}},[i("el-button",{attrs:{size:"mini"}},[t._v("保存")]),i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){t.dialogVisibleone=!0}}},[t._v("申请")])],1)],1)]),i("div",{staticClass:"dialog"},[i("el-dialog",{attrs:{visible:t.dialogVisible,"before-close":t.handleDialogClose,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticStyle:{"text-align":"right"}},[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.getDownload}},[t._v("模板下载")])],1),i("el-upload",{ref:"upfiles",staticClass:"upload-demo",attrs:{action:"#","http-request":t.uploadFiles,"on-change":t.setChange,multiple:"",limit:1e4,"file-list":t.fileList}},[i("el-button",{staticStyle:{"text-align":"left"},attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 只能上传Excel文件，且不超过500kb ")])],1),i("div",{staticClass:"listtpey"},t._l(t.content,(function(e,a){return i("p",{key:a},[t._v(t._s(e))])})),0),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.clearFile()}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.confirm}},[t._v("确 定")])],1)],1),i("el-dialog",{attrs:{visible:t.dialogVisibleone,width:"30%"},on:{"update:visible":function(e){t.dialogVisibleone=e}}},[i("span",[t._v("申请规模：xxx户，是否确定申请？点击确定后，24小时内，将不允许重新申请。")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogVisibleone=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.dialogVisibleone=!1}}},[t._v("确 定")])],1)])],1)])},n=[],l=(i("4160"),i("c975"),i("d3b7"),i("25f0"),i("159b"),i("c59a")),o=i("b6220"),s=i("0c6d"),c={data:function(){return{rangeDate:[],dialogVisible:!1,dialogVisibleone:!1,tableData:[{a:145,b:122,c:43},{a:121,b:22,c:51},{a:11,b:212,c:92}],searchData:{pageNo:1,pageSize:10,total:0,disctpye:"个人客户",discguimo:""},isfugai:0,optiontype:[{value:1,label:"个人客户"},{value:0,label:"5G客户"},{value:2,label:"宽带客户"}],files:{type:0,files:{},token:"12"},fileList:[],content:" ",discCodes:[],restaurants:[],multipleSelection:[]}},mounted:function(){setTimeout((function(){}),1e3)},created:function(){},methods:{query:function(){(0==this.searchData.discguimo||this.searchData.discguimo<150)&&this.$message("匹配规模太少，请手工分配。")},marquee:function(){},resetting:function(){this.dialogVisible=!0},setChange:function(t,e){this.fileList=e},uploadFiles:function(t){},handleDialogClose:function(){this.content="",this.dialogVisible=!1,this.$refs["upfiles"].clearFiles()},getDownload:function(){var t=l["a"].production,e={type:9};Object(s["a"])(t+"/SatisfactionImport/download5GSatisModel",e,"promote")},confirm:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;if(0!=this.fileList.length){var e=new FormData,i=[];this.fileList.forEach((function(t){e.append("file",t.raw),i.push(t.raw)})),e.append("type",this.isfugai);var a=[];o["a"].checkExcel({data:e}).then((function(i){var n=i.data.data;1==n.code&&t.$confirm(n.error+", 是否确认导入?","提示",{confirmButtomText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(i){confirm&&(e.set("type",t.isfugai),o["a"].excelFile({data:e}).then((function(t){a.push(n.error),a.unshift(n.question);var e=n;for(var i in e)-1!=i.indexOf("exception")&&a.push(e[i]);a.push(t.data.data.msg)})).catch((function(t){console.log(t)})))})).catch((function(t){console.log(t)})),2==n.code&&(t.$confirm(n.question+", 是否确认导入?","提示",{confirmButtomText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(i){confirm&&(e.set("type",t.isfugai),o["a"].excelFile({data:e}).then((function(t){console.log(111111),a.push(n.error);var e=n;for(var i in e)-1!=i.indexOf("exception")&&a.push(e[i]);a.push(t.data.data.msg)})).catch((function(t){console.log(t)})))})).catch((function(t){console.log(t)})),a.unshift(n.question)),0==n.code&&a.unshift(n.msg),t.content=a})).catch((function(t){console.log(t)}))}else this.$message.warning("请上传文件！")})),clearFile:function(){this.content="",this.dialogVisible=!1,this.$refs["upfiles"].clearFiles()},tableDbEdit:function(t,e,i,a){if("客户数"==e.label){a.target.innerHTML="";var n=document.createElement("input");n.value="",n.setAttribute("type","text"),n.style.width="50%",i.appendChild(n),n.onblur=function(){i.removeChild(n),a.target.innerHTML=n.value}}},toggleSelection:function(){},handleSelectionChange:function(t){var e=[];t.forEach((function(t){e.push(t.discCode)})),this.multipleSelection=e,console.log(this.multipleSelection)},noresetting:function(){},rowClass:function(){},cellStyle:function(){},handleCurrentChange:function(t){this.searchData.pageNo=t,console.log(111),this.query()},handleSizeChange:function(t){this.searchData.pageSize=t,console.log(22222),this.query()}}},r=c,u=(i("9791"),i("2877")),d=Object(u["a"])(r,a,n,!1,null,"373a7221",null);e["default"]=d.exports},dd96:function(t,e,i){}}]);
//# sourceMappingURL=chunk-624ee941.c5cac488.js.map