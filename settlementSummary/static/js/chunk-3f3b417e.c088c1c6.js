(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f3b417e"],{"3f2a":function(t,e,a){"use strict";a.d(e,"b",(function(){return o}));var n=a("bc3a"),i=a.n(n),l=a("4360"),s=a("5c96");function o(t,e,a){i()({method:"post",url:t,headers:{"Content-Type":"application/json;charset=UTF-8",token:l["a"].state.token},data:e}).then((function(t){s["Message"].success(t.data.msg)})).catch((function(t){s["Message"].error(t.data.msg)}))}},"5c4f":function(t,e,a){},ab7a:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container common-css"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}],staticClass:"grid-content"},[t._v(" 总体概览-全网性业务结算差异对比汇总 ")])])],1),a("div",{staticClass:"page-main"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}],staticClass:"page-menu",staticStyle:{"margin-top":"10px"}},[a("el-row",[a("el-col",{staticStyle:{"margin-left":"50px"},attrs:{span:6}},[a("div",{staticClass:"flex-cen"},[t._v(" 结算月份： "),a("el-date-picker",{staticStyle:{width:"160px"},attrs:{type:"month",placeholder:"请选择结算月份",size:"mini",format:"yyyyMM","value-format":"yyyyMM",editable:!1},model:{value:t.searchData.statisMonth,callback:function(e){t.$set(t.searchData,"statisMonth",e)},expression:"searchData.statisMonth"}})],1)]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"flex-cen"},[t._v(" 业务线： "),a("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"请选择业务线",size:"mini"},nativeOn:{click:function(e){return t.marquee()}},model:{value:t.searchData.busiType,callback:function(e){t.$set(t.searchData,"busiType",e)},expression:"searchData.busiType"}},t._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value},nativeOn:{click:function(a){return t.select(e.value)}}})})),1)],1)]),a("el-col",{staticStyle:{"margin-left":"50px"},attrs:{span:4}},[a("div",{staticClass:"flex-cen"},[t._v(" 结算单： "),a("el-input",{staticStyle:{width:"120px"},attrs:{size:"mini"},model:{value:t.searchData.settleId,callback:function(e){t.$set(t.searchData,"settleId",e)},expression:"searchData.settleId"}})],1)]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.search}},[t._v("搜索")]),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("导入")])],1)],1),t.isshow?a("div",{staticStyle:{width:"100%","margin-top":"10px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":{background:"#eaeff7",color:"#444"}}},[a("el-table-column",{attrs:{prop:"statisMonth",label:"结算月份","min-width":"100",align:"center"}}),a("el-table-column",{attrs:{label:"结算单信息",align:"center"}},[a("el-table-column",{attrs:{align:"center",prop:"busiType",label:"业务线","min-width":"80"}}),a("el-table-column",{attrs:{align:"center",prop:"settleId",label:"编码","min-width":"80"}}),a("el-table-column",{attrs:{align:"center",prop:"settleName",label:"名称","min-width":"160"}})],1),a("el-table-column",{attrs:{label:"本月结入",align:"center"}},[a("el-table-column",{attrs:{align:"center",prop:"taxMoneySettleIn",label:"省内(元)","min-width":"100"}}),a("el-table-column",{attrs:{align:"center",prop:"taxMoneySettleInJiTuan",label:"集团(元)","min-width":"100","class-name":"isaction"}}),a("el-table-column",{attrs:{align:"center",prop:"diffMoneyIn",label:"差异费用(元)","min-width":"110"}}),a("el-table-column",{attrs:{align:"center",prop:"diffMoneyRateIn",label:"结入差异率(%)","min-width":"90"}})],1),a("el-table-column",{attrs:{label:"本月结出",align:"center"}},[a("el-table-column",{attrs:{align:"center",prop:"taxMoneySettleOut",label:"省内(元)","min-width":"100"}}),a("el-table-column",{attrs:{align:"center",prop:"taxMoneySettleOutJiTuan",label:"集团(元)","min-width":"100","class-name":"isaction"}}),a("el-table-column",{attrs:{align:"center",prop:"diffMoneyOut",label:"差异费用(元)","min-width":"110"}}),a("el-table-column",{attrs:{align:"center",prop:"diffMoneyRateOut",label:"结出差异率(%)","min-width":"80"}})],1),a("el-table-column",{attrs:{align:"center",label:"明细查看","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:"#"},on:{click:function(a){return t.handeleDetail(e.row.settleId)}}},[t._v(t._s(e.row.settleId)+"明细查看")])]}}],null,!1,689978381)})],1),a("div",{staticClass:"flex-end"},[a("el-pagination",{staticStyle:{"margin-top":"20px","text-align":"center"},attrs:{"current-page":t.searchData.pageNo,"page-size":t.searchData.pageSize,total:t.searchData.total,"page-sizes":[1,5,10,30],layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(e){return t.$set(t.searchData,"pageNo",e)},"update:current-page":function(e){return t.$set(t.searchData,"pageNo",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1):a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content"},[t._v("差异说明")])])],1),a("el-row",[a("el-col",{staticStyle:{"margin-left":"50px","margin-bottom":"10px","margin-top":"10px"},attrs:{span:6}},[a("div",{staticClass:"flex-cen"},[t._v(" 结算月份： "),a("el-date-picker",{staticStyle:{width:"160px"},attrs:{type:"month",placeholder:"请选择结算月份",size:"mini",format:"yyyyMM","value-format":"yyyyMM",editable:!1},model:{value:t.searchData.statisMonth,callback:function(e){t.$set(t.searchData,"statisMonth",e)},expression:"searchData.statisMonth"}})],1)]),a("el-button",{staticStyle:{"margin-left":"750px","margin-top":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.revert}},[t._v("返回")])],1),a("el-table",{attrs:{data:t.tableDatas,"header-cell-style":{background:"#eaeff7",color:"#444"}}},t._l(t.searchDatas,(function(e,n){return a("el-table-column",{key:n,attrs:{label:e["FIELD_NAME"],prop:e["UPPER(FIELD)"],"class-name":t.getClass(e["UPPER(FIELD)"]),align:"center"}})})),1),a("el-pagination",{staticStyle:{"margin-top":"20px","text-align":"center"},attrs:{"current-page":t.searchDatas.pageNo,"page-size":t.searchDatas.pageSize,total:t.searchDatas.total,"page-sizes":[1,5,10,30],layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(e){return t.$set(t.searchDatas,"pageNo",e)},"update:current-page":function(e){return t.$set(t.searchDatas,"pageNo",e)},"size-change":t.handleSizeChanges,"current-change":t.handleCurrentChanges}})],1)]),a("el-dialog",{attrs:{visible:t.dialogVisible,"before-close":t.handleDialogClose,width:"70%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.getDownload}},[t._v("模板下载")])],1),a("el-upload",{ref:"upfiles",staticClass:"upload-demo",attrs:{drag:"",action:"#","http-request":t.uploadFiles,limit:1,"list-type":"excel",multiple:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 只能上传Excel文件，且不超过500kb ")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:t.clearFiles}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.confirm}},[t._v("确 定")])],1)],1)],1)},i=[],l=(a("4de4"),a("d3b7"),a("25f0"),a("b6220")),s=a("c59a"),o=a("99b1"),c=a("3f2a");a("4328");console.log(c["default"]);var r={data:function(){var t=(new Date).getFullYear(),e=(new Date).getMonth()+1>=10?(new Date).getMonth()+1:"0"+((new Date).getMonth()+1),a=t+e;return{dialogVisible:!1,isshow:!0,searchData:{statisMonth:a,busiType:"",settleId:"",total:0,pageSize:10,pageNo:1},DescriptionData:{settleId:"settleId",statisMonth:a,pageSize:10,pageNo:1},options:[],TemplateData:{statisMonth:"",pageSize:"2",pageNo:"1",busiType:""},tableData:[],searchDatas:{total:0,pageSize:10,pageNo:1},tableDatas:[],detailId:"",files:{file:"",iscover:!1}}},computed:{},created:function(){},methods:{getClass:function(t){return"SETTLE_IN_TAX_MONEY"==t||"SETTLE_OUT_TAX_MONEY"==t?"isaction":""},handleDialogClose:function(){this.dialogVisible=!1,this.$refs["upfiles"].clearFiles()},clearFiles:function(){this.dialogVisible=!1,this.$refs["upfiles"].clearFiles()},confirm:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;this.$refs["upfiles"].clearFiles(),this.dialogVisible=!1,""!=this.files.file?l["a"].uploadExcel({data:this.files}).then((function(e){t.$message.warning(e.data.data.msg+"!"),console.log(e.data.data),"导入成功"==e.data.data.msg&&(t.findTable(),console.log(114584)),2!=e.data.data.code||t.$confirm(e.data.data.msg+", 确认提交?","提示",{confirmButtomText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(e){confirm&&(t.files.iscover=!0,l["a"].uploadExcel({data:t.files}).then((function(e){t.files.iscover=!1,t.findTable()})).catch((function(t){console.log(t)})))})).catch((function(t){console.log(t)}))})).catch((function(e){console.log(e),t.$message.warning(e.data.data.msg+"!")})):this.$message.warning("请上传文件！")})),getDownload:function(){this.TemplateData["statisMonth"]=this.searchData["statisMonth"];var t=s["a"].production;window.open(t+o["a"].getExcelTemplate+"?statisMonth="+this.TemplateData["statisMonth"],"_blank")},uploadFiles:function(t){this.files.file=t.file},select:function(t){this.searchData.busiType=t},search:function(){this.findTable()},revert:function(){this.isshow=!this.isshow},marquee:function(){var t=this;l["a"].getTypes({}).then((function(e){t.options=e.data.data.types})).catch((function(t){console.log(t)}))},handleSelectionChange:function(t){this.multipleSelection=t},findTable:function(){var t=this;console.log(this.searchData.busiType),l["a"].getSummaryData({data:this.searchData}).then((function(e){console.log(e),t.tableData=e.data.data.records,t.searchData.total=e.data.data.total})).catch((function(t){console.log(t)}))},handeleDetail:function(t){var e=this;this.isshow=!this.isshow,console.log(this.isshow),this.detailId=t,this.DescriptionData["statisMonth"]=this.searchData["statisMonth"],this.DescriptionData["settleId"]=t,l["a"].getDetailData({data:this.DescriptionData}).then((function(t){e.tableDatas=t.data.data.records;var a=t.data.data.fields.filter((function(t){return!(t["FIELD_NAME"]&&"统计月份"==t["FIELD_NAME"])}));e.searchDatas=a,e.searchDatas.total=t.data.data.total})).catch((function(t){console.log(t)}))},handleCurrentChange:function(t){this.searchData.pageNo=t,this.findTable()},handleSizeChange:function(t){this.searchData.pageSize=t,this.findTable()},handleCurrentChanges:function(t){this.searchDatas.pageNo=t,this.handeleDetail(this.detailId)},handleSizeChanges:function(t){this.searchDatas.pageSize=t,this.handeleDetail(this.detailId)}}},u=r,d=(a("b4b4"),a("2877")),h=Object(d["a"])(u,n,i,!1,null,null,null);e["default"]=h.exports},b4b4:function(t,e,a){"use strict";var n=a("5c4f"),i=a.n(n);i.a},b6220:function(t,e,a){"use strict";var n=a("0c6d"),i=a("99b1"),l=a("c59a");function s(t,e){var a=l["a"].production;return e=e||"",Object.assign({},{url:a+e+t.url,data:t.data||"",showLoading:t.showLoading||"",timeOut:t.timeOut||"",loadingTime:t.loadingTime||"",isLoading:t.isLoading||""})}var o=function(t){return t.url=i["a"].getSummaryData,Object(n["c"])(s(t))},c=function(t){return t.url=i["a"].getDetailData,Object(n["c"])(s(t))},r=function(t){return t.url=i["a"].getTypes,Object(n["c"])(s(t))},u=function(t){return t.url=i["a"].uploadExcel,Object(n["b"])(s(t))},d=function(t){return t.url=i["a"].getExcelTemplate,Object(n["a"])(s(t))},h=function(t){return t.url=i["a"].mobile,Object(n["c"])(s(t))},p=function(t){return t.url=i["a"].mobileSelect,Object(n["c"])(s(t))},g=function(t){return t.url=i["a"].broadband,Object(n["c"])(s(t))},f=function(t){return t.url=i["a"].broadbandSelect,Object(n["c"])(s(t))},m=function(t){return t.url=i["a"].family,Object(n["c"])(s(t))},b=function(t){return t.url=i["a"].familySelect,Object(n["c"])(s(t))},y=function(t){return t.url=i["a"].government,Object(n["c"])(s(t))},D=function(t){return t.url=i["a"].governmentSelect,Object(n["c"])(s(t))},v=function(t){return t.url=i["a"].querypagedata,Object(n["c"])(s(t))},w=function(t){return t.url=i["a"].queryregion,Object(n["c"])(s(t))},x=function(t){return t.url=i["a"].querytype,Object(n["c"])(s(t))};e["a"]={getSummaryData:o,getDetailData:c,getTypes:r,uploadExcel:u,getExcelTemplate:d,mobile:h,mobileSelect:p,broadband:g,broadbandSelect:f,family:m,familySelect:b,government:y,governmentSelect:D,querypagedata:v,queryregion:w,querytype:x}}}]);
//# sourceMappingURL=chunk-3f3b417e.c088c1c6.js.map