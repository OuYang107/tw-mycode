(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3797afb8"],{"0d5e":function(e,t,n){"use strict";var a=n("0c6d"),o=n("99b1"),r=n("c59a");function l(e,t){var n=r["a"].production;return t=t||"",console.log(e),Object.assign({},{url:n+t+e.url,data:e.data||"",showLoading:e.showLoading||"",timeOut:e.timeOut||"",loadingTime:e.loadingTime||"",isLoading:e.isLoading||""})}var i=function(e){return e.url=o["a"].loginSso,Object(a["d"])(l(e))},c=function(e){return e.url=o["a"].findUserInfo,Object(a["d"])(l(e))},s=function(e){return e.url=o["a"].findUserInfos,Object(a["d"])(l(e))},u=function(e){return e.url=o["a"].prodExcelFile,Object(a["b"])(l(e))},d=function(e){return e.url=o["a"].prodFindProdInfo,Object(a["d"])(l(e))},f=function(e){return e.url=o["a"].prodUpdateProdInfo,Object(a["d"])(l(e))},p=function(e){return e.url=o["a"].prodInsertProdInfo,Object(a["d"])(l(e))},m=function(e){return e.url=o["a"].canalExcelFile,Object(a["b"])(l(e))},b=function(e){return e.url=o["a"].canalFindChnnlInfo,Object(a["d"])(l(e))},h=function(e){return e.url=o["a"].canalUpdateChnlInfo,Object(a["d"])(l(e))},g=function(e){return e.url=o["a"].canalInsertProdInfo,Object(a["d"])(l(e))},v=function(e){return e.url=o["a"].canalCheckChnnlInfo,Object(a["b"])(l(e))},I=function(e){return e.url=o["a"].canalRemoveChnlByCode,Object(a["d"])(l(e))},y=function(e){return e.url=o["a"].prodCheckProdInfo,Object(a["b"])(l(e))},O=function(e){return e.url=o["a"].prodRemoveProdByCode,Object(a["d"])(l(e))},C=function(e){return e.url=o["a"].findMenuInfo,Object(a["d"])(l(e))},j=function(e){return e.url=o["a"].findProdInfo,Object(a["d"])(l(e))},F=function(e){return e.url=o["a"].updateProdInfo,Object(a["d"])(l(e))},w=function(e){return e.url=o["a"].findCBdiIntfInfo,Object(a["d"])(l(e))},k=function(e){return e.url=o["a"].findSchedulingReloadInfo,Object(a["d"])(l(e))},T=function(e){return e.url=o["a"].updateSchedulingReloadInfo,Object(a["d"])(l(e))},x=function(e){return e.url=o["a"].findActivemonitorHelpInfo,Object(a["d"])(l(e))},P=function(e){return e.url=o["a"].findActivemonitorQuestionInfo,Object(a["d"])(l(e))},D=function(e){return e.url=o["a"].getSummaryData,Object(a["d"])(l(e))},$=function(e){return e.url=o["a"].getDetailData,Object(a["d"])(l(e))},S=function(e){return e.url=o["a"].getTypes,Object(a["d"])(l(e))};t["a"]={getTypes:S,getDetailData:$,getSummaryData:D,loginSso:i,findUserInfos:s,findUserInfo:c,prodExcelFile:u,prodFindProdInfo:d,prodUpdateProdInfo:f,prodInsertProdInfo:p,prodCheckProdInfo:y,canalExcelFile:m,canalFindChnnlInfo:b,canalUpdateChnlInfo:h,canalInsertProdInfo:g,canalCheckChnnlInfo:v,canalRemoveChnlByCode:I,prodRemoveProdByCode:O,findCBdiIntfInfo:w,findMenuInfo:C,findProdInfo:j,updateProdInfo:F,findSchedulingReloadInfo:k,updateSchedulingReloadInfo:T,findActivemonitorHelpInfo:x,findActivemonitorQuestionInfo:P}},1180:function(e,t,n){},"15fd":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a4d3"),n("c975"),n("b64b");function a(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}function o(e,t){if(null==e)return{};var n,o,r=a(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}},1889:function(e,t,n){"use strict";var a=n("1180"),o=n.n(a);o.a},"3f2a":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("bc3a"),o=n.n(a),r=n("4360"),l=n("5c96");function i(e,t,n){o()({method:"post",url:e,headers:{"Content-Type":"application/json;charset=UTF-8",token:r["a"].state.token},data:t}).then((function(e){l["Message"].success(e.data.msg)})).catch((function(e){l["Message"].error(e.data.msg)}))}},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},a4bf:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container common-css"},[n("div",{staticClass:"page-main"},[n("div",{staticClass:"page-menu"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,size:"small"}},[n("div",{staticClass:"menu-left"},[n("el-form-item",[n("el-input",{attrs:{placeholder:"请输入查询关键字"},model:{value:e.formInline.search,callback:function(t){e.$set(e.formInline,"search",t)},expression:"formInline.search"}})],1),n("el-form-item",{attrs:{label:"查询类别"}},[n("el-select",{attrs:{placeholder:"查询类别"},model:{value:e.formInline.region,callback:function(t){e.$set(e.formInline,"region",t)},expression:"formInline.region"}},e._l(e.menuOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.findTable}},[e._v("查询")])],1)],1),n("div",{staticClass:"menu-right"},[n("el-form-item",{staticClass:"menu-btn"},[1==e.authInfo.remove?n("el-button",{attrs:{type:"danger",icon:"el-icon-remove",size:"small"},on:{click:e.deleteTable}},[e._v("删除")]):e._e(),1==e.authInfo.inser?n("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small"},on:{click:e.addTable}},[e._v("新增")]):e._e(),1==e.authInfo.inser?n("el-button",{attrs:{type:"warning",icon:"el-icon-upload",size:"small"},on:{click:function(t){return e.showTableVisible()}}},[e._v("导入")]):e._e(),n("el-button",{attrs:{type:"success",icon:"el-icon-download",size:"small"},on:{click:e.exportTable}},[e._v("导出")])],1)],1)])],1),n("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData,border:"","header-cell-style":{background:"rgb(160,207,255)",color:"#fff"}},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"prodcode",label:"产品编码"}}),n("el-table-column",{attrs:{prop:"prodname",label:"产品名称"}}),n("el-table-column",{attrs:{prop:"prodbidcode",label:"推荐类型编码"}}),n("el-table-column",{attrs:{prop:"prodbidname",label:"推荐类型名称"}}),n("el-table-column",{attrs:{prop:"prodsmallcode",label:"产品小类编码"}}),n("el-table-column",{attrs:{prop:"prodsmallname",label:"产品小类名称"}}),n("el-table-column",{attrs:{prop:"note",label:"备注"}}),n("el-table-column",{attrs:{prop:"operationuser",label:"操作人"}}),n("el-table-column",{attrs:{prop:"operationtime",label:"操作时间","min-width":"110"}}),1==e.authInfo.updat?n("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}}],null,!1,2788234419)}):e._e()],1),n("el-pagination",{staticStyle:{"margin-top":"20px","text-align":"center"},attrs:{"current-page":e.queryData.pageNo,"page-size":e.queryData.pageSize,total:e.queryData.total,"page-sizes":[10,20,30,50,70,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){return e.$set(e.queryData,"pageNo",t)},"update:current-page":function(t){return e.$set(e.queryData,"pageNo",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),n("el-dialog",{staticClass:"export-dialog",attrs:{title:"导入框",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[n("div",{staticClass:"dialog-top"},[n("div",{staticClass:"dialog-left"},[n("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"#",limit:1,"http-request":e.httpRequest}},[n("el-button",{attrs:{type:"warning",icon:"el-icon-upload",size:"small"}},[e._v("选择文件")])],1),n("el-button",{attrs:{type:"primary",size:"small",disabled:!e.checkPass},nativeOn:{click:function(t){return e.importTable(t)}}},[e._v("确定")])],1),n("div",{staticClass:"dialog-right"},[n("el-button",{attrs:{type:"success",icon:"el-icon-download",size:"small"},nativeOn:{click:function(t){return e.downloadExcel(t)}}},[e._v("模板下载 ")])],1)]),n("div",{staticClass:"dialog-info"},e._l(e.notice,(function(t,a){return n("div",{key:a},[e._v(e._s(t))])})),0)]),n("el-dialog",{staticClass:"export-dialog",attrs:{title:e.modalInfo.title,visible:e.modalInfo.show},on:{"update:visible":function(t){return e.$set(e.modalInfo,"show",t)},close:e.closeDialog}},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px",size:"small"}},[n("el-form-item",{staticClass:"menu-btn",attrs:{label:"产品编码",prop:"prodcode"}},[n("el-input",{attrs:{placeholder:"请输入产品编码",disabled:"修改框"==e.modalInfo.title},model:{value:e.ruleForm.prodcode,callback:function(t){e.$set(e.ruleForm,"prodcode",t)},expression:"ruleForm.prodcode"}})],1),n("el-form-item",{staticClass:"menu-btn",attrs:{label:"产品名称",prop:"prodname"}},[n("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.ruleForm.prodname,callback:function(t){e.$set(e.ruleForm,"prodname",t)},expression:"ruleForm.prodname"}})],1),n("el-form-item",{staticClass:"menu-btn",attrs:{label:"推荐类型编码",prop:"prodbidcode"}},[n("el-input",{attrs:{placeholder:"请输入推荐类型编码"},model:{value:e.ruleForm.prodbidcode,callback:function(t){e.$set(e.ruleForm,"prodbidcode",t)},expression:"ruleForm.prodbidcode"}})],1),n("el-form-item",{staticClass:"menu-btn",attrs:{label:"推荐类型名称",prop:"prodbidname"}},[n("el-input",{attrs:{placeholder:"请输入推荐类型名称"},model:{value:e.ruleForm.prodbidname,callback:function(t){e.$set(e.ruleForm,"prodbidname",t)},expression:"ruleForm.prodbidname"}})],1),n("el-form-item",{staticClass:"menu-btn",attrs:{label:"产品小类编码",prop:"prodsmallcode"}},[n("el-input",{attrs:{placeholder:"请输入产品小类编码"},model:{value:e.ruleForm.prodsmallcode,callback:function(t){e.$set(e.ruleForm,"prodsmallcode",t)},expression:"ruleForm.prodsmallcode"}})],1),n("el-form-item",{staticClass:"menu-btn",attrs:{label:"产品小类名称",prop:"prodsmallname"}},[n("el-input",{attrs:{placeholder:"请输入产品小类名称"},model:{value:e.ruleForm.prodsmallname,callback:function(t){e.$set(e.ruleForm,"prodsmallname",t)},expression:"ruleForm.prodsmallname"}})],1),n("el-form-item",{staticClass:"menu-btn",attrs:{label:"备注",prop:"note"}},[n("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.ruleForm.note,callback:function(t){e.$set(e.ruleForm,"note",t)},expression:"ruleForm.note"}})],1)],1),n("div",{staticClass:"btn-group"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.modalInfo.show=!1}}},[e._v("取消")])],1)],1)],1)},o=[],r=(n("4160"),n("b64b"),n("ac1f"),n("841c"),n("159b"),n("15fd")),l=n("5530"),i=n("0d5e"),c=(n("bc3a"),n("3f2a")),s=n("c59a"),u=n("2f62"),d={data:function(){return{baseUrl:s["a"].production,modalInfo:{title:"",show:!1},ruleForm:{prodcode:"",prodname:"",prodbidcode:"",prodbidname:"",prodsmallcode:"",prodsmallname:"",note:""},queryData:{total:0,pageSize:10,pageNo:1},dialogTableVisible:!1,notice:[],formInline:{search:"",region:0},menuOptions:[{name:"产品编码",value:0},{name:"产品名称",value:1}],tableData:[],rules:{prodcode:[{required:!0,message:"产品编码不能为空",trigger:"blur"}],prodname:[{required:!0,message:"产品名称不能为空",trigger:"blur"}],prodbidcode:[{required:!0,message:"推荐类型编码不能为空",trigger:"blur"}],prodbidname:[{required:!0,message:"推荐类型名称不能为空",trigger:"blur"}],prodsmallcode:[{required:!0,message:"产品小类编码不能为空",trigger:"blur"}],prodsmallname:[{required:!0,message:"产品小类名称不能为空",trigger:"blur"}]},fileData:"",checkPass:!1,multipleSelection:[]}},computed:Object(l["a"])({},Object(u["b"])(["authInfo"])),mounted:function(){this.findTable()},methods:{exportTable:function(){var e={pageNo:this.queryData.pageNo,pageSize:this.queryData.pageSize},t=0==this.formInline.region?"prodCode":"prodName",n="prodCode"==t?"prodName":"prodCode";e[t]=this.formInline.search,e[n]="",Object(c["a"])(this.baseUrl+"/IopChnnlDTableController/downChnlInfo",e,"IOP渠道维表")},downloadExcel:function(){window.location.href=this.baseUrl+"/IOPChnlImportTemp.xlsx"},closeDialog:function(){this.$refs["ruleForm"].resetFields()},handleSelectionChange:function(e){this.multipleSelection=e},showTableVisible:function(){var e=this;this.dialogTableVisible=!0,this.notice=[],this.checkPass=!1,this.$nextTick((function(){e.$refs["ruleForm"].resetFields()}))},findTable:function(){var e=this,t={pageNo:this.queryData.pageNo,pageSize:this.queryData.pageSize},n=0==this.formInline.region?"prodCode":"prodName",a="prodCode"==n?"prodName":"prodCode";t[n]=this.formInline.search,t[a]="",i["a"].canalFindChnnlInfo({data:t}).then((function(t){e.tableData=t.data.data.records,e.queryData.total=t.data.data.total}))},handleCurrentChange:function(e){this.queryData.pageNo=e,this.findTable()},handleSizeChange:function(e){this.queryData.pageSize=e,this.findTable()},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){e&&("新增框"==t.modalInfo.title?i["a"].canalInsertProdInfo({data:t.ruleForm}).then((function(e){t.modalInfo.show=!1,t.$message.success("新增成功!"),t.findTable()})).catch((function(e){t.$message.error(e.data.msg)})):i["a"].canalUpdateChnlInfo({data:t.ruleForm}).then((function(e){t.modalInfo.show=!1,t.$message.success("修改成功!"),t.findTable()})).catch((function(e){t.$message.error(e.data.msg)})))}))},importTable:function(){var e=this;i["a"].canalExcelFile({data:this.fileData}).then((function(t){var n=[];if("0"==t.data.data.code)e.dialogTableVisible=!1,e.$message.success(t.data.data.msg);else{var a=t.data.data,o=(a.code,a.msg,Object(r["a"])(a,["code","msg"]));Object.keys(o).forEach((function(e){n.push(o[e])})),n.length||n.push(t.data.data.msg),e.notice=n}e.findTable()})).catch((function(t){e.$message.error(t.data.msg)}))},httpRequest:function(e){var t=this;e.file;this.fileData={excelFile:e.file},this.checkPass=!1,i["a"].canalCheckChnnlInfo({data:this.fileData}).then((function(e){t.$refs.upload.clearFiles();var n=[],a=e.data.data,o=a.code,l=Object(r["a"])(a,["code"]);"0"==o?(t.checkPass=!0,n.push(l.msg)):Object.keys(l).forEach((function(e){n.push(l[e])})),t.notice=n})).catch((function(e){}))},addTable:function(){this.modalInfo.show=!0,this.modalInfo.title="新增框"},deleteTable:function(){var e=this;this.multipleSelection.length?this.$confirm("进行删除操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="";e.multipleSelection.forEach((function(e,n){t+=0==n?e.prodcode:","+e.prodcode}));var n={prodCode:t};i["a"].canalRemoveChnlByCode({data:n}).then((function(t){e.$message.success("删除成功!"),e.findTable()})).catch((function(t){e.$message.error(t.data.msg)}))})).catch((function(){})):this.$message.warning("请选择要删除的项!")},handleDelete:function(e,t){var n=this;this.$confirm("进行删除操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e={prodCode:t.prodcode};i["a"].canalRemoveChnlByCode({data:e}).then((function(e){n.$message.success("删除成功!"),n.findTable()})).catch((function(e){n.$message.error(e.data.msg)}))})).catch((function(){}))},handleEdit:function(e,t){t.operationtime,t.operationuser;var n=Object(r["a"])(t,["operationtime","operationuser"]),a=this;a.$nextTick((function(){a.$refs.ruleForm.resetFields()})),this.ruleForm=n,this.modalInfo.show=!0,this.modalInfo.title="修改框"}}},f=d,p=(n("1889"),n("2877")),m=Object(p["a"])(f,a,o,!1,null,null,null);t["default"]=m.exports},dbb4:function(e,t,n){var a=n("23e7"),o=n("83ab"),r=n("56ef"),l=n("fc6a"),i=n("06cf"),c=n("8418");a({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){var t,n,a=l(e),o=i.f,s=r(a),u={},d=0;while(s.length>d)n=o(a,t=s[d++]),void 0!==n&&c(u,t,n);return u}})},e439:function(e,t,n){var a=n("23e7"),o=n("d039"),r=n("fc6a"),l=n("06cf").f,i=n("83ab"),c=o((function(){l(1)})),s=!i||c;a({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(e,t){return l(r(e),t)}})}}]);
//# sourceMappingURL=chunk-3797afb8.ca346e3b.js.map